<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy 2nd Anniversary üíç DiVara</title>

  <style>
    :root{
      --bg1:#fff1f2;
      --bg2:#fbcfe8;
      --card:#ffffffcc;
      --text:#2b2b2b;
      --accent:#db2777;
      --shadow: 0 12px 40px rgba(0,0,0,.12);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
    }
    a{color:inherit}

    /* ============ WELCOME OVERLAY ============ */
    #welcomeOverlay{
      position:fixed;
      inset:0;
      z-index:9999;
      display:grid;
      place-items:center;
      overflow:hidden;

      /* üåà Multicolor soft light background */
      background:
        radial-gradient(900px 600px at 10% 15%, rgba(255, 120, 190, .55), transparent 60%),
        radial-gradient(850px 520px at 90% 25%, rgba(120, 210, 255, .55), transparent 60%),
        radial-gradient(900px 650px at 35% 90%, rgba(255, 230, 130, .55), transparent 60%),
        radial-gradient(900px 650px at 80% 85%, rgba(170, 130, 255, .50), transparent 60%),
        linear-gradient(180deg, #fff1f8, #f6f0ff);
    }

    /* Floating colorful blobs */
    #welcomeOverlay::before,
    #welcomeOverlay::after{
      content:"";
      position:absolute;
      inset:-20%;
      background:
        radial-gradient(circle at 20% 30%, rgba(255, 0, 120, .20), transparent 55%),
        radial-gradient(circle at 80% 20%, rgba(0, 180, 255, .18), transparent 55%),
        radial-gradient(circle at 60% 80%, rgba(255, 220, 0, .18), transparent 55%),
        radial-gradient(circle at 25% 85%, rgba(140, 80, 255, .18), transparent 55%);
      filter: blur(18px);
      opacity:.9;
      transform: translate3d(0,0,0);
      animation: blobsMove 10s ease-in-out infinite;
      pointer-events:none;
    }
    #welcomeOverlay::after{
      opacity:.65;
      animation-duration: 14s;
      animation-direction: reverse;
    }
    @keyframes blobsMove{
      0%{ transform: translate(-2%, -1%) scale(1); }
      50%{ transform: translate(2%, 1%) scale(1.05); }
      100%{ transform: translate(-2%, -1%) scale(1); }
    }

    #welcomeOverlay .glow{
      position:absolute;
      width:520px;
      height:520px;
      border-radius:50%;
      background: radial-gradient(circle, rgba(255,255,255,.35), rgba(255,255,255,0));
      filter: blur(10px);
      opacity:.85;
      transform: translateY(-10px);
      animation: glowPulse 2.4s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes glowPulse{
      0%,100%{ transform:scale(1) translateY(-10px); opacity:.75; }
      50%{ transform:scale(1.07) translateY(-10px); opacity:.95; }
    }

    /* Hands container (clean + heartbeat) */
    .handsWrap{
      width:min(340px, 78vw);
      aspect-ratio: 1/1;
      position:relative;
      border-radius:28px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.10);
      backdrop-filter: blur(8px);
      box-shadow:
        0 20px 50px rgba(219,39,119,.25),
        0 0 25px rgba(255,255,255,.45);
      animation: heartbeat 1.25s ease-in-out infinite;
      transform-origin:center;
    }
    @keyframes heartbeat{
      0%, 100% { transform: scale(1); }
      14% { transform: scale(1.03); }
      28% { transform: scale(1); }
      42% { transform: scale(1.04); }
      70% { transform: scale(1); }
    }

    .handHalf{
      position:absolute; top:0; bottom:0;
      width:50%;
      background-image:url("hand.png");
      background-size:200% 100%;
      background-repeat:no-repeat;
      filter: saturate(1.05) contrast(1.02);
    }
    .handHalf.left{ left:0; background-position:left center; }
    .handHalf.right{ right:0; background-position:right center; }

    .revealLight{
      position:absolute;
      inset:0;
      background: radial-gradient(circle at center, rgba(255,255,255,.0), rgba(255,255,255,.0));
      opacity:0;
      pointer-events:none;
    }

    .welcomeText{
      margin-top:16px;
      text-align:center;
      padding:0 18px;
      text-shadow: 0 8px 28px rgba(0,0,0,.20);
    }
    .welcomeText h2{
      margin:0;
      font-size:34px;
      letter-spacing:.5px;
      font-weight:900;
      color:#db2777;
      text-shadow:
        0 2px 6px rgba(255,255,255,.6),
        0 8px 25px rgba(219,39,119,.45);
    }
    .welcomeText p{
      margin:12px 0 0;
      font-size:17px;
      font-weight:800;
      color:#4a044e;
      text-shadow: 0 2px 4px rgba(255,255,255,.7);
    }
    .enterPill{
      margin-top:18px;
      display:inline-block;
      padding:14px 22px;
      border-radius:999px;
      background: linear-gradient(135deg, rgba(255,255,255,.85), rgba(255,230,245,.9));
      border:1px solid rgba(219,39,119,.45);
      box-shadow:
        0 10px 30px rgba(219,39,119,.25),
        inset 0 0 10px rgba(255,255,255,.6);
      font-weight:900;
      font-size:17px;
      letter-spacing:.3px;
      color:#111827;
      user-select:none;
    }
    .enterPill span{
      color:#db2777;
      text-shadow: 0 2px 6px rgba(219,39,119,.35);
    }

    /* Opening animation (overlay) */
    #welcomeOverlay.open .handHalf.left{ animation: openLeft 1.05s ease-in-out forwards; }
    #welcomeOverlay.open .handHalf.right{ animation: openRight 1.05s ease-in-out forwards; }
    #welcomeOverlay.open .revealLight{ animation: lightOpen 1.05s ease-in-out forwards; }
    #welcomeOverlay.open .handsWrap{ animation: wrapFade 1.05s ease-in-out forwards; }
    #welcomeOverlay.open .welcomeText{ animation: textFade 0.6s ease forwards; }

    @keyframes openLeft{ to{ transform: translateX(-120%); opacity:0; } }
    @keyframes openRight{ to{ transform: translateX(120%); opacity:0; } }
    @keyframes lightOpen{
      0%{ opacity:0; background: radial-gradient(circle at center, rgba(255,255,255,0), rgba(255,255,255,0)); }
      50%{ opacity:1; background: radial-gradient(circle at center, rgba(255,255,255,.55), rgba(255,255,255,0)); }
      100%{ opacity:0; background: radial-gradient(circle at center, rgba(255,255,255,0), rgba(255,255,255,0)); }
    }
    @keyframes wrapFade{
      0%{ transform: scale(1); }
      80%{ transform: scale(1.02); }
      100%{ transform: scale(1.03); opacity:0; }
    }
    @keyframes textFade{ to{ opacity:0; transform: translateY(6px); } }

    #welcomeOverlay.hidden{ display:none; }

    /* ============ MAIN SITE ============ */
    .wrap{
      max-width:960px;
      margin:0 auto;
      padding:24px 16px 86px;
      position:relative;
      z-index:2;
      opacity:0;
      transform: translateY(8px);
      transition: opacity .8s ease, transform .8s ease;
    }
    body.ready .wrap{
      opacity:1;
      transform: translateY(0);
    }

    .card{
      background:var(--card);
      border:1px solid #ffffff80;
      backdrop-filter: blur(10px);
      border-radius:24px;
      padding:18px;
      box-shadow: var(--shadow);
    }
    header{
      display:flex;
      gap:14px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom:14px;
    }
    .title{display:flex;align-items:center;gap:12px;}
    .badge{
      width:46px;height:46px;border-radius:14px;
      background: linear-gradient(135deg, #f43f5e, #db2777);
      display:grid;place-items:center;color:white;font-size:22px;
      box-shadow:0 10px 25px rgba(219,39,119,.30);
    }
    h1{margin:0;font-size:22px}
    p{margin:8px 0 0; line-height:1.55}

    .nav{display:flex; gap:10px; flex-wrap:wrap;}
    button{
      border:0;padding:10px 14px;border-radius:999px;background:#fff;
      box-shadow:0 8px 20px rgba(0,0,0,.10);
      cursor:pointer;font-weight:700;
    }
    .nav button.active{
      background: var(--accent);
      color:#fff;
      box-shadow:0 10px 25px rgba(219,39,119,.30);
    }
    button.primary{
      background: var(--accent);
      color:#fff;
      box-shadow:0 10px 25px rgba(219,39,119,.30);
    }

    .page{display:none;margin-top:14px;}
    .page.active{display:block;}

    .hero{display:grid;gap:14px;grid-template-columns: 1.2fr .8fr;}
    @media (max-width:780px){.hero{grid-template-columns:1fr;}}

    .big{
      font-size:18px;
      padding:14px;
      border-radius:18px;
      background:#ffffffb3;
      border:1px solid #fff;
    }
    .hint{font-size:12px;opacity:.85}
    .pill{
      display:inline-block;
      padding:10px 14px;
      border-radius:999px;
      background:#ffffffb3;
      border:1px solid #fff;
      font-weight:700;
    }
    .footer{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }

    /* Countdown */
    .countdown{display:grid;grid-template-columns: repeat(4, 1fr);gap:10px;}
    .tick{text-align:center;padding:12px 10px;border-radius:18px;background:#fff;border:1px solid #ffffff90;}
    .tick b{display:block;font-size:22px;}
    .tick span{font-size:12px;opacity:.75}

    /* Typewriter */
    .tw{
      margin-top:10px;
      padding:12px 12px;
      border-radius:18px;
      background:#fff;
      border:1px solid #ffffff90;
      min-height:64px;
      font-size:16px;
      line-height:1.55;
      white-space:pre-wrap;
    }
    .cursor{
      display:inline-block;
      width:10px;
      animation: blink 1s steps(2, start) infinite;
      color: var(--accent);
      font-weight:900;
    }
    @keyframes blink { to { visibility: hidden; } }

    /* Memories gallery animations */
    .gallery{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
      margin-top:12px;
    }
    @media (max-width:780px){.gallery{grid-template-columns: repeat(2, 1fr);}}
    .ph{
      border-radius:20px;
      overflow:hidden;
      border:1px solid #ffffff90;
      background:#fff;
      aspect-ratio: 1/1;
      position:relative;
      box-shadow: 0 10px 24px rgba(0,0,0,.08);
      opacity:0;
      transform: translateY(16px) scale(.98);
      transition: opacity .7s ease, transform .7s ease;
      cursor:pointer;
    }
    .ph.show{
      opacity:1;
      transform: translateY(0) scale(1);
    }
    .ph img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.03);
      transition: transform .7s ease;
    }
    .ph:hover img{ transform: scale(1.08); }
    .cap{
      position:absolute;
      left:10px; right:10px; bottom:10px;
      background:#ffffffd9;
      padding:8px 10px;
      border-radius:14px;
      font-size:12px;
      backdrop-filter: blur(6px);
    }
    @media (prefers-reduced-motion: no-preference){
      .ph.show{ animation: floaty 3.4s ease-in-out infinite; }
      .ph.show:nth-child(2){ animation-delay:.25s; }
      .ph.show:nth-child(3){ animation-delay:.5s; }
      .ph.show:nth-child(4){ animation-delay:.15s; }
      .ph.show:nth-child(5){ animation-delay:.35s; }
      .ph.show:nth-child(6){ animation-delay:.6s; }
      @keyframes floaty{
        0%,100%{ transform: translateY(0) scale(1); }
        50%{ transform: translateY(-6px) scale(1.01); }
      }
    }

    /* Lightbox */
    #lightbox{
      position:fixed; inset:0;
      z-index:9998;
      background: rgba(0,0,0,.75);
      display:none;
      place-items:center;
      padding:18px;
    }
    #lightbox.show{ display:grid; }
    .lbCard{
      width:min(92vw, 720px);
      border-radius:22px;
      overflow:hidden;
      background:#fff;
      box-shadow: 0 24px 70px rgba(0,0,0,.45);
      position:relative;
    }
    .lbCard img{ width:100%; height:auto; display:block; }
    .lbCap{ padding:12px 14px; font-weight:700; }
    .lbClose{
      position:absolute;
      top:10px; right:10px;
      border:0;
      border-radius:999px;
      padding:10px 12px;
      background: rgba(255,255,255,.92);
      cursor:pointer;
      font-weight:900;
    }

    /* Floating hearts */
    .heart{
      position:fixed;
      bottom:-40px;
      font-size:22px;
      animation: floatUp linear forwards;
      z-index:1;
      pointer-events:none;
      filter: drop-shadow(0 8px 12px rgba(0,0,0,.20));
    }
    @keyframes floatUp{
      from{ transform: translateY(0) translateX(0) rotate(0deg); opacity:0; }
      10%{opacity:1}
      to{ transform: translateY(-110vh) translateX(var(--drift)) rotate(18deg); opacity:0; }
    }

    textarea{
      width:100%;
      min-height:200px;
      border-radius:18px;
      border:1px solid #ffffff90;
      padding:12px 12px;
      font-size:14px;
      outline:none;
      resize:vertical;
      background:#fff;
    }
  </style>
</head>

<body>
  <!-- WELCOME OVERLAY -->
  <div id="welcomeOverlay" aria-label="Welcome screen">
    <div class="glow"></div>

    <div style="display:grid; place-items:center; position:relative; z-index:2;">
      <div class="handsWrap" id="handsWrap">
        <div class="handHalf left"></div>
        <div class="handHalf right"></div>
        <div class="revealLight"></div>
      </div>

      <div class="welcomeText">
        <h2>DiVara üíç</h2>
        <p>Happy 2nd Wedding Anniversary<br/>Vara Prasad & Divya Sri</p>
        <div class="enterPill">Tap to open <span>your world</span> ‚ú®</div>
      </div>
    </div>
  </div>

  <!-- LIGHTBOX -->
  <div id="lightbox" role="dialog" aria-modal="true">
    <div class="lbCard">
      <button class="lbClose" onclick="closeLightbox()">‚úï</button>
      <img id="lbImg" alt="Memory">
      <div class="lbCap" id="lbCap"></div>
    </div>
  </div>

  <!-- MAIN SITE -->
  <div class="wrap">
    <div class="card">
      <header>
        <div class="title">
          <div class="badge">üíç</div>
          <div>
            <h1>Happy 2nd Anniversary, <span>Vadhina & Annaya</span> üíñ</h1>
            <p class="hint">Small surprise made with love for DiVara ‚Äî Prashanth & Ammu.</p>
          </div>
        </div>

        <div class="nav">
          <button class="active" onclick="showPage('welcome', this)">Welcome</button>
          <button onclick="showPage('memories', this)">Memories</button>
          <button onclick="showPage('wishes', this)">Wishes</button>
        </div>
      </header>

      <!-- WELCOME (MAIN PAGE) -->
      <section id="welcome" class="page active">
        <div class="hero">
          <div class="big">
            <b>Two years‚Ä¶ and a lifetime to go ‚ù§Ô∏è</b>
            <div id="twWelcome" class="tw"></div>

            <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
              <p class="hint" style="margin:0">Press play if music didn‚Äôt start automatically üé∂</p>
              <button id="musicBtn" class="primary" onclick="toggleMusic()">Play song üé∂</button>
            </div>
          </div>

          <div class="big">
            <b>Countdown to Feb 5</b>
            <p class="hint">A small reminder of a big day üíñ</p>

            <div class="countdown" style="margin-top:10px">
              <div class="tick"><b id="d">0</b><span>Days</span></div>
              <div class="tick"><b id="h">0</b><span>Hours</span></div>
              <div class="tick"><b id="m">0</b><span>Minutes</span></div>
              <div class="tick"><b id="s">0</b><span>Seconds</span></div>
            </div>

            <div class="footer">
              <div class="pill">Blessings & love ü§ç</div>
              <button class="primary" onclick="burstHearts()">Tap for hearts ‚ú®</button>
            </div>
          </div>
        </div>
      </section>

      <!-- MEMORIES -->
      <section id="memories" class="page">
        <div class="big">
          <b>Memories that move üí´</b>
          <p class="hint">Tap any photo to open it.</p>
        </div>

        <div class="gallery" id="gallery">
          <div class="ph" data-src="11.jpeg" data-cap="A Fairytale Marriage">
            <img src="11.jpeg" alt="Memory 1"><div class="cap">A Fairytale Marriage</div>
          </div>
          <div class="ph" data-src="22.jpeg" data-cap="Love in little things">
            <img src="22.jpeg" alt="Memory 2"><div class="cap">Love in little things</div>
          </div>
          <div class="ph" data-src="33.jpeg" data-cap="Bridegroom">
            <img src="33.jpeg" alt="Memory 3"><div class="cap">Bridegroom</div>
          </div>
          <div class="ph" data-src="44.jpeg" data-cap="Bride">
            <img src="44.jpeg" alt="Memory 4"><div class="cap">Bride</div>
          </div>
          <div class="ph" data-src="55.jpeg" data-cap="Blessed">
            <img src="55.jpeg" alt="Memory 5"><div class="cap">Blessed</div>
          </div>
          <div class="ph" data-src="66.jpeg" data-cap="Together Looks Perfect">
            <img src="66.jpeg" alt="Memory 6"><div class="cap">Together Looks Perfect</div>
          </div>
          <div class="ph" data-src="77.jpeg" data-cap="A Moment to remember">
            <img src="77.jpeg" alt="Memory 6"><div class="cap">A Moment to remember</div>
          </div>
          <div class="ph" data-src="88.jpeg" data-cap="Smiles that Stay">
            <img src="88.jpeg" alt="Memory 6"><div class="cap">Smiles That Stay</div>
          </div>
          <div class="ph" data-src="99.jpeg" data-cap="Forever Vibes">
            <img src="99.jpeg" alt="Memory 6"><div class="cap">Forever vibes</div>
          </div>
          <div class="ph" data-src="110.jpeg" data-cap="Your Best Chapter">
            <img src="110.jpeg" alt="Memory 6"><div class="cap">Your Best Chapter</div>
          </div>
          <div class="ph" data-src="111.jpeg" data-cap="Forever">
            <img src="111.jpeg" alt="Memory 6"><div class="cap">Forever</div>
          </div>
           <div class="ph" data-src="112.jpeg" data-cap="Happy Anniversary">
            <img src="112.jpeg" alt="Memory 6"><div class="cap">Happy Anniversary</div>
          </div>
        </div>
      </section>

      <!-- WISHES -->
      <section id="wishes" class="page">
        <div class="big">
          <b>Anniversary Wishes for DiVara üíå</b>
          <div id="twWishes" class="tw"></div>

          <p class="hint" style="margin-top:10px">A small wish from our hearts‚Ä¶</p>

          <textarea id="annivLetter">‚ù§Ô∏èDiVara‚ù§Ô∏è

üíçHappy 2nd Wedding Anniversaryüíç‚ù§Ô∏è

Across two lands, two dreams once grew,
One heart in the USA, one soul in India too.
By His grace, their paths aligned,
An arranged bond, by Jesus designed.

With parents‚Äô blessings and love so true,
They walked as one, hearts steady and new.
Now together, where hopes belong,
Hand in hand, growing happy and strong.

Two years of togetherness, blessed and bright,
Guided by faith, wrapped in His light.
May your home be filled with laughter and light,
May your family grow in love day and night.

Forever blessed, in faith and care,
Happy 2nd Wedding Anniversary

‚Äî DiVara,
Heaven‚Äôs prayer ü§ç

With lots of love,
‚Äî Prashanth & Ammu</textarea>

          <div class="footer">
            <div class="pill">Tap Memories ‚Üí open photos ‚ú®</div>
            <button class="primary" onclick="copyAnnivLetter()">Copy letter</button>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- AUDIO (song.mpeg in repo root) -->
  <audio id="bgm" loop>
    <source src="song.mpeg" type="audio/mpeg">
  </audio>

  <script>
    /* ====== OPEN WORLD (WELCOME OVERLAY) ====== */
    const welcomeOverlay = document.getElementById('welcomeOverlay');
    const bgm = document.getElementById('bgm');
    const musicBtn = document.getElementById('musicBtn');
    let isPlaying = false;

    function setMusicButton(){
      if(!musicBtn) return;
      musicBtn.textContent = isPlaying ? "Pause song ‚è∏Ô∏è" : "Play song üé∂";
    }

    function openWorld(){
      if(!welcomeOverlay || welcomeOverlay.classList.contains('open')) return;

      welcomeOverlay.classList.add('open');

      // Start music right after tap (iPhone allows because user interacted)
      try{
        bgm.volume = 0.6;
        bgm.play().then(()=>{
          isPlaying = true;
          setMusicButton();
        }).catch(()=>{
          isPlaying = false;
          setMusicButton();
        });
      }catch(e){
        isPlaying = false;
        setMusicButton();
      }

      // After animation, hide overlay and reveal site
      setTimeout(()=>{
        welcomeOverlay.classList.add('hidden');
        document.body.classList.add('ready');
        burstHearts(10);
        startTypewriter('welcome');
      }, 1050);
    }

    welcomeOverlay.addEventListener('click', openWorld);

    function toggleMusic(){
      if(!bgm) return;
      if(!isPlaying){
        bgm.volume = 0.6;
        bgm.play().then(()=>{
          isPlaying = true;
          setMusicButton();
        }).catch(()=>{
          alert("Tap again to start music ‚ù§Ô∏è (iPhone rule)");
        });
      }else{
        bgm.pause();
        isPlaying = false;
        setMusicButton();
      }
    }
    setMusicButton();

    /* ====== NAV / PAGES ====== */
    function showPage(id, btn){
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      const page = document.getElementById(id);
      if(page) page.classList.add('active');

      document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
      if(btn) btn.classList.add('active');

      burstHearts(8);
      if(id === 'welcome') startTypewriter('welcome');
      if(id === 'wishes') startTypewriter('wishes');

      window.scrollTo({top:0, behavior:'smooth'});
    }

    /* ====== TYPEWRITER ====== */
    const twText = {
      welcome:
`Happy 2nd Wedding Anniversary, DiVara üíç
Vara Prasad & Divya Sri ‚Äî
two hearts, one beautiful journey.

May your love grow deeper,
your home grow warmer,
and your smiles grow brighter every year. ‚ù§Ô∏è`,
      wishes:
`DiVara,
May God keep you both happy, protected, and always together. üíñ`
    };

    const twState = { welcome:false, wishes:false, timer:null };

    function typewrite(el, text, speed=26){
      if(!el) return;
      el.innerHTML = "";
      let i = 0;
      const cursor = document.createElement('span');
      cursor.className = 'cursor';
      cursor.textContent = '|';
      el.appendChild(cursor);

      function step(){
        if(i <= text.length){
          const shown = text.slice(0, i);
          el.innerHTML = shown.replace(/\n/g, "<br>");
          el.appendChild(cursor);
          i++;
          twState.timer = setTimeout(step, speed);
        }else{
          el.innerHTML = text.replace(/\n/g, "<br>");
          el.appendChild(cursor);
        }
      }
      step();
    }

    function startTypewriter(which){
      if(twState[which]) return;
      twState[which] = true;

      if(which === 'welcome'){
        typewrite(document.getElementById('twWelcome'), twText.welcome);
      }
      if(which === 'wishes'){
        typewrite(document.getElementById('twWishes'), twText.wishes);
      }
    }

    /* ====== COUNTDOWN: Feb 5 12:00 AM ====== */
    function defaultTarget(){
      const now = new Date();
      const year = now.getFullYear();
      return new Date(year, 1, 5, 0, 0, 0); // Feb = 1
    }
    const target = defaultTarget();

    function tick(){
      const now = new Date();
      let diff = target - now;
      if(diff < 0) diff = 0;

      const sec = Math.floor(diff/1000);
      const d = Math.floor(sec/86400);
      const h = Math.floor((sec%86400)/3600);
      const m = Math.floor((sec%3600)/60);
      const s = sec%60;

      const D = document.getElementById('d');
      const H = document.getElementById('h');
      const M = document.getElementById('m');
      const S = document.getElementById('s');
      if(D) D.textContent = d;
      if(H) H.textContent = h;
      if(M) M.textContent = m;
      if(S) S.textContent = s;
    }
    tick();
    setInterval(tick, 1000);

    /* ====== HEARTS ====== */
    function spawnHeart(x=null, count=1){
      for(let i=0;i<count;i++){
        const h = document.createElement('div');
        h.className = 'heart';
        h.textContent = ['‚ù§','üíñ','üíò','üíù','üíï'][Math.floor(Math.random()*5)];
        const left = x ?? (Math.random()*100);
        h.style.left = left + 'vw';
        h.style.setProperty('--drift', (Math.random()*120 - 60) + 'px');
        const dur = 5 + Math.random()*4;
        h.style.animationDuration = dur + 's';
        h.style.fontSize = (18 + Math.random()*18) + 'px';
        document.body.appendChild(h);
        setTimeout(()=>h.remove(), dur*1000);
      }
    }
    function burstHearts(n=18){ for(let i=0;i<n;i++) spawnHeart(null, 1); }
    setInterval(()=>spawnHeart(), 900);

    document.addEventListener('click', (e)=>{
      if(!document.body.classList.contains('ready')) return;
      const vw = (e.clientX / window.innerWidth) * 100;
      spawnHeart(vw, 2);
    });

    /* ====== MEMORIES LIGHTBOX ====== */
    const phCards = Array.from(document.querySelectorAll('.ph'));
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const lbCap = document.getElementById('lbCap');

    function openLightbox(src, cap){
      if(!lb || !lbImg || !lbCap) return;
      lbImg.src = src;
      lbCap.textContent = cap || "";
      lb.classList.add('show');
    }
    function closeLightbox(){
      if(!lb || !lbImg || !lbCap) return;
      lb.classList.remove('show');
      lbImg.src = "";
      lbCap.textContent = "";
    }
    window.closeLightbox = closeLightbox;

    if(lb){
      lb.addEventListener('click', (e)=>{
        if(e.target === lb) closeLightbox();
      });
    }

    phCards.forEach(card=>{
      card.addEventListener('click', ()=>{
        openLightbox(card.dataset.src, card.dataset.cap);
      });
    });

    const io = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{
        if(en.isIntersecting){
          en.target.classList.add('show');
          io.unobserve(en.target);
        }
      });
    }, { threshold: 0.15 });

    phCards.forEach(c=>io.observe(c));

    /* ====== COPY LETTER ====== */
    async function copyAnnivLetter(){
      const box = document.getElementById('annivLetter');
      if(!box) return;
      const text = box.value.trim();
      try{
        await navigator.clipboard.writeText(text);
        alert("Copied üíñ");
      }catch(e){
        alert("Couldn‚Äôt copy‚Äîselect and copy manually.");
      }
    }
  </script>
</body>
</html>

